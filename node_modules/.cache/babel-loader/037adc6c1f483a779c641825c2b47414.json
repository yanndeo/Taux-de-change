{"ast":null,"code":"import _objectSpread from \"/Users/Maranatha/Desktop/PROJECT_REACTJS/CurrentChange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios'; //Types \n\nimport { GET_COUNTRIES, GET_RATE_EXCHANGE } from \"./types\"; //Utils\n\nimport { formatedDate, getLastMonth } from '../utils/func';\nexport const _fetchCountries = () => async dispatch => {\n  try {\n    const response = await axios.get('https://restcountries.eu/rest/v2/all');\n    dispatch({\n      type: GET_COUNTRIES,\n      payload: response.data\n    });\n  } catch (error) {\n    console.log('fetchcountries_action', error);\n  }\n};\nexport const _fetchRateExchange = country => async dispatch => {\n  console.log(country.code);\n\n  try {\n    const response = await axios.get(\"https://api.exchangeratesapi.io/history?start_at=\".concat(getLastMonth(), \"&end_at=\").concat(formatedDate(new Date()), \"&base=USD&symbols=EUR\")); // const response = await axios.get(`https://api.exchangeratesapi.io/history?start_at=${getLastMonth()}&end_at=${formatedDate(new Date())}&base=USD&symbols=${country.code} `);\n\n    console.log(response);\n    dispatch({\n      type: GET_RATE_EXCHANGE,\n      payload: _objectSpread({\n        rates: response.data.rates\n      }, country)\n    });\n  } catch (error) {\n    console.log('fetchrate_action', error);\n  }\n};","map":{"version":3,"sources":["/Users/Maranatha/Desktop/PROJECT_REACTJS/CurrentChange/src/actions/index.js"],"names":["axios","GET_COUNTRIES","GET_RATE_EXCHANGE","formatedDate","getLastMonth","_fetchCountries","dispatch","response","get","type","payload","data","error","console","log","_fetchRateExchange","country","code","Date","rates"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,aAAT,EAAwBC,iBAAxB,QAAiD,SAAjD,C,CACA;;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,eAA3C;AAGA,OAAO,MAAMC,eAAe,GAAE,MAAK,MAAMC,QAAN,IAAiB;AAEhD,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,sCAAV,CAAvB;AAEAF,IAAAA,QAAQ,CAAC;AACLG,MAAAA,IAAI,EAAER,aADD;AAELS,MAAAA,OAAO,EAAEH,QAAQ,CAACI;AAFb,KAAD,CAAR;AAKH,GARD,CAQE,OAAOC,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoCF,KAApC;AAEH;AAEJ,CAfM;AAkBP,OAAO,MAAMG,kBAAkB,GAAEC,OAAO,IAAG,MAAMV,QAAN,IAAgB;AACvDO,EAAAA,OAAO,CAACC,GAAR,CAAYE,OAAO,CAACC,IAApB;;AAEA,MAAI;AACA,UAAMV,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,4DACiCJ,YAAY,EAD7C,qBAC0DD,YAAY,CAAC,IAAIe,IAAJ,EAAD,CADtE,2BAAvB,CADA,CAID;;AACCL,IAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACAD,IAAAA,QAAQ,CAAC;AACLG,MAAAA,IAAI,EAAEP,iBADD;AAELQ,MAAAA,OAAO;AAAIS,QAAAA,KAAK,EAAEZ,QAAQ,CAACI,IAAT,CAAcQ;AAAzB,SAAmCH,OAAnC;AAFF,KAAD,CAAR;AAKH,GAXD,CAWE,OAAOJ,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BF,KAA/B;AAEH;AAEJ,CAnBM","sourcesContent":["import axios from 'axios'\n//Types \nimport { GET_COUNTRIES, GET_RATE_EXCHANGE } from \"./types\";\n//Utils\nimport { formatedDate, getLastMonth } from '../utils/func';\n\n\nexport const _fetchCountries= ()=> async dispatch =>{\n\n    try {\n        const response = await axios.get('https://restcountries.eu/rest/v2/all');\n\n        dispatch({\n            type: GET_COUNTRIES,\n            payload: response.data\n        });\n        \n    } catch (error) {\n        console.log('fetchcountries_action',error)\n\n    }\n   \n};\n\n\nexport const _fetchRateExchange= country =>async dispatch=>{\n    console.log(country.code )\n\n    try {\n        const response = await axios.get(\n            `https://api.exchangeratesapi.io/history?start_at=${getLastMonth()}&end_at=${formatedDate(new Date())}&base=USD&symbols=EUR`\n        );\n       // const response = await axios.get(`https://api.exchangeratesapi.io/history?start_at=${getLastMonth()}&end_at=${formatedDate(new Date())}&base=USD&symbols=${country.code} `);\n        console.log(response)\n        dispatch({\n            type: GET_RATE_EXCHANGE,\n            payload: { rates: response.data.rates, ...country }\n        });\n\n    } catch (error) {\n        console.log('fetchrate_action',error)\n\n    }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}