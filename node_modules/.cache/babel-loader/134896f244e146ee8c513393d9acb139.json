{"ast":null,"code":"import _objectSpread from \"/Users/Maranatha/Desktop/PROJECT_REACTJS/CurrentChange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios'; //Types \n\nimport { GET_COUNTRIES, GET_RATE_EXCHANGE } from \"./types\";\nimport { formatedDate } from '../utils/func';\nexport const _fetchCountries = () => async dispatch => {\n  const response = await axios.get('https://restcountries.eu/rest/v2/all');\n  dispatch({\n    type: GET_COUNTRIES,\n    payload: response.data\n  });\n};\nexport const _fetchRateExchange = country => async dispatch => {\n  const response = await axios.get(\"https://api.exchangeratesapi.io/history?start_at=\".concat(getLastMonth(), \"&end_at=\").concat(formatedDate(new Date()), \"&base=USD&symbols=\").concat(country.code));\n  console.log('rate', response); // console.log(\"date\", formatedDate(new Date()));\n\n  dispatch({\n    type: GET_RATE_EXCHANGE,\n    payload: _objectSpread({\n      rates: response.data.rates\n    }, country)\n  });\n};\n\nfunction formatedate(date) {\n  let convert = date.toISOString().split(\"T\")[0];\n  console.log('cons', convert);\n  return;\n}\n\nfunction getLastMonth() {\n  let now = new Date();\n  now.setMonth(now.getMonth() - 1);\n  console.log('last');\n  return formatedDate(now);\n}","map":{"version":3,"sources":["/Users/Maranatha/Desktop/PROJECT_REACTJS/CurrentChange/src/actions/index.js"],"names":["axios","GET_COUNTRIES","GET_RATE_EXCHANGE","formatedDate","_fetchCountries","dispatch","response","get","type","payload","data","_fetchRateExchange","country","getLastMonth","Date","code","console","log","rates","formatedate","date","convert","toISOString","split","now","setMonth","getMonth"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,aAAT,EAAwBC,iBAAxB,QAAiD,SAAjD;AACA,SAASC,YAAT,QAA6B,eAA7B;AAGA,OAAO,MAAMC,eAAe,GAAE,MAAK,MAAMC,QAAN,IAAiB;AAGjD,QAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAU,sCAAV,CAAvB;AAEKF,EAAAA,QAAQ,CAAC;AACLG,IAAAA,IAAI,EAAEP,aADD;AAELQ,IAAAA,OAAO,EAACH,QAAQ,CAACI;AAFZ,GAAD,CAAR;AAIP,CATM;AAYP,OAAO,MAAMC,kBAAkB,GAAIC,OAAD,IAAY,MAAMP,QAAN,IAAiB;AAE3D,QAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,4DAA8DM,YAAY,EAA1E,qBAAuFV,YAAY,CAAE,IAAIW,IAAJ,EAAF,CAAnG,+BAAsIF,OAAO,CAACG,IAA9I,EAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBX,QAAnB,EAH2D,CAI5D;;AAGCD,EAAAA,QAAQ,CAAC;AACPG,IAAAA,IAAI,EAAEN,iBADC;AAEPO,IAAAA,OAAO;AAAIS,MAAAA,KAAK,EAAEZ,QAAQ,CAACI,IAAT,CAAcQ;AAAzB,OAAmCN,OAAnC;AAFA,GAAD,CAAR;AAMH,CAbM;;AAeP,SAASO,WAAT,CAAqBC,IAArB,EAA0B;AAEtB,MAAIC,OAAO,GAAGD,IAAI,CAACE,WAAL,GAAmBC,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAd;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBI,OAApB;AACA;AACH;;AAED,SAASR,YAAT,GAAuB;AAEnB,MAAIW,GAAG,GAAG,IAAIV,IAAJ,EAAV;AACAU,EAAAA,GAAG,CAACC,QAAJ,CAAcD,GAAG,CAACE,QAAJ,KAAgB,CAA9B;AACAV,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAOd,YAAY,CAACqB,GAAD,CAAnB;AACH","sourcesContent":["import axios from 'axios'\n//Types \nimport { GET_COUNTRIES, GET_RATE_EXCHANGE } from \"./types\";\nimport { formatedDate } from '../utils/func';\n\n\nexport const _fetchCountries= ()=> async dispatch =>{\n\n\n   const response = await axios.get('https://restcountries.eu/rest/v2/all');\n\n        dispatch({\n            type: GET_COUNTRIES,\n            payload:response.data\n        });\n};\n\n\nexport const _fetchRateExchange = (country)=> async dispatch =>{\n\n    const response = await axios.get(`https://api.exchangeratesapi.io/history?start_at=${getLastMonth()}&end_at=${formatedDate( new Date() )}&base=USD&symbols=${country.code}`);\n    console.log('rate',response)\n   // console.log(\"date\", formatedDate(new Date()));\n\n\n    dispatch({\n      type: GET_RATE_EXCHANGE,\n      payload: { rates: response.data.rates, ...country }\n    });\n\n\n};\n\nfunction formatedate(date){\n\n    let convert = date.toISOString().split(\"T\")[0];\n    console.log('cons', convert)\n    return \n}\n\nfunction getLastMonth(){\n\n    let now = new Date();\n    now.setMonth( now.getMonth() -1 )\n    console.log('last', )\n    return formatedDate(now)\n}"]},"metadata":{},"sourceType":"module"}